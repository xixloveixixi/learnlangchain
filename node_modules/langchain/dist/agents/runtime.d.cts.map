{"version":3,"file":"runtime.d.cts","names":["InteropZodOptional","InteropZodDefault","Runtime","LangGraphRuntime","PregelOptions","BaseMessage","BaseCallbackConfig","ResponseFormatUndefined","AgentBuiltInState","Record","IsOptionalZodObject","T","IsDefaultZodObject","WithMaybeContext","TContext","Omit","Partial","InternalAgentState","StructuredResponseType","IsOptionalType","ExtractNonUndefined","IsAllOptional","CreateAgentPregelOptions","CreateAgentPregelStreamOptions","InvokeConfiguration","ContextSchema","Pick","StreamConfiguration"],"sources":["../../src/agents/runtime.d.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport type { InteropZodOptional } from \"@langchain/core/utils/types\";\nimport type { InteropZodDefault } from \"@langchain/core/utils/types\";\nimport type { Runtime as LangGraphRuntime, PregelOptions } from \"@langchain/langgraph\";\nimport type { BaseMessage } from \"@langchain/core/messages\";\nimport type { BaseCallbackConfig } from \"@langchain/core/callbacks/manager\";\nimport type { ResponseFormatUndefined } from \"./responses.js\";\n/**\n * Type for the agent's built-in state properties.\n */\nexport type AgentBuiltInState = {\n    /**\n     * Array of messages representing the conversation history.\n     *\n     * This includes all messages exchanged during the agent's execution:\n     * - Human messages: Input from the user\n     * - AI messages: Responses from the language model\n     * - Tool messages: Results from tool executions\n     * - System messages: System-level instructions or information\n     *\n     * Messages are accumulated throughout the agent's lifecycle and can be\n     * accessed or modified by middleware hooks during execution.\n     */\n    messages: BaseMessage[];\n    /**\n     * Structured response data returned by the agent when a `responseFormat` is configured.\n     *\n     * This property is only populated when you provide a `responseFormat` schema\n     * (as Zod or JSON schema) to the agent configuration. The agent will format\n     * its final output to match the specified schema and store it in this property.\n     *\n     * Note: The type is specified as `Record<string, unknown>` because TypeScript cannot\n     * infer the actual response format type in contexts like middleware, where the agent's\n     * generic type parameters are not accessible. You may need to cast this to your specific\n     * response type when accessing it.\n     */\n    structuredResponse?: Record<string, unknown>;\n};\n/**\n * Type helper to check if TContext is an optional Zod schema\n */\ntype IsOptionalZodObject<T> = T extends InteropZodOptional<any> ? true : false;\ntype IsDefaultZodObject<T> = T extends InteropZodDefault<any> ? true : false;\nexport type WithMaybeContext<TContext> = undefined extends TContext ? {\n    readonly context?: TContext;\n} : IsOptionalZodObject<TContext> extends true ? {\n    readonly context?: TContext;\n} : IsDefaultZodObject<TContext> extends true ? {\n    readonly context?: TContext;\n} : {\n    readonly context: TContext;\n};\n/**\n * Runtime information available to middleware (readonly).\n */\nexport type Runtime<TContext = unknown> = Partial<Omit<LangGraphRuntime<TContext>, \"context\" | \"configurable\">> & WithMaybeContext<TContext> & {\n    configurable?: {\n        thread_id?: string;\n        [key: string]: unknown;\n    };\n};\nexport type InternalAgentState<StructuredResponseType extends Record<string, unknown> | undefined = Record<string, unknown>> = {\n    messages: BaseMessage[];\n} & (StructuredResponseType extends ResponseFormatUndefined ? Record<string, never> : {\n    structuredResponse: StructuredResponseType;\n});\n/**\n * Helper type to check if a type is optional (includes undefined)\n */\ntype IsOptionalType<T> = undefined extends T ? true : false;\n/**\n * Extract non-undefined part of a union that includes undefined\n */\ntype ExtractNonUndefined<T> = T extends undefined ? never : T;\n/**\n * Helper type to check if all properties of a type are optional\n */\nexport type IsAllOptional<T> = \n// If T includes undefined, then it's optional (can be omitted entirely)\nundefined extends T ? true : IsOptionalType<T> extends true ? true : ExtractNonUndefined<T> extends Record<string, any> ? {} extends ExtractNonUndefined<T> ? true : false : IsOptionalType<T>;\n/**\n * Pregel options that are propagated to the agent\n */\ntype CreateAgentPregelOptions = \"configurable\" | \"durability\" | \"store\" | \"cache\" | \"signal\" | \"recursionLimit\" | \"maxConcurrency\" | \"timeout\";\n/**\n * Pregel stream options that are propagated to the agent\n */\ntype CreateAgentPregelStreamOptions = \"encoding\" | \"streamMode\";\n/**\n * Decide whether provided configuration requires a context\n */\nexport type InvokeConfiguration<ContextSchema extends Record<string, any>> = \n/**\n * If the context schema is a default object, `context` can be optional\n */\nContextSchema extends InteropZodDefault<any> ? BaseCallbackConfig & Partial<Pick<PregelOptions<any, any, any>, CreateAgentPregelOptions>> & {\n    context?: Partial<ContextSchema>;\n} : IsAllOptional<ContextSchema> extends true ? BaseCallbackConfig & Partial<Pick<PregelOptions<any, any, any>, CreateAgentPregelOptions>> & {\n    context?: Partial<ContextSchema>;\n} : BaseCallbackConfig & Partial<Pick<PregelOptions<any, any, any>, CreateAgentPregelOptions>> & WithMaybeContext<ContextSchema>;\nexport type StreamConfiguration<ContextSchema extends Record<string, any>> = \n/**\n * If the context schema is a default object, `context` can be optional\n */\nContextSchema extends InteropZodDefault<any> ? Partial<Pick<PregelOptions<any, any, any>, CreateAgentPregelOptions>> & {\n    context?: Partial<ContextSchema>;\n} : IsAllOptional<ContextSchema> extends true ? Partial<Pick<PregelOptions<any, any, any>, CreateAgentPregelOptions | CreateAgentPregelStreamOptions>> & {\n    context?: Partial<ContextSchema>;\n} : Partial<Pick<PregelOptions<any, any, any>, CreateAgentPregelOptions | CreateAgentPregelStreamOptions>> & WithMaybeContext<ContextSchema>;\nexport {};\n"],"mappings":";;;;;;;;;;AAoC+B,KA1BnBQ,iBAAAA,GA0BmB;EAK1BE;;;;AAAqD;AAAA;;;;AACF;AACxD;;EAA4B,QAA+BI,EApB7CT,WAoB6CS,EAAAA;EAAQ;;;;;;;;AAOrC;AAK9B;;;EAAgF,kBAAzBX,CAAAA,EAnB9BM,MAmB8BN,CAAAA,MAAAA,EAAAA,OAAAA,CAAAA;CAAgB;;;;AAA2D,KAd7HO,mBAc6H,CAAA,CAAA,CAAA,GAdpGC,CAcoG,SAd1FX,kBAc0F,CAAA,GAAA,CAAA,GAAA,IAAA,GAAA,KAAA;AAU/H,KAvBEY,kBA2Bc,CAAA,CAAA,CAAA,GA3BUD,CA2BV,SA3BoBV,iBA2BK,CAAA,GAAA,CAAA,GAAA,IAAA,GAAA,KAAA;AAIvCmB,KA9BOP,gBA8BY,CAAA,QAAA,CAAA,GAAA,SAAA,SA9BmCC,QA8BnC,GAAA;EAAA,SAAA,OAAA,CAAA,EA7BDA,QA6BC;CAAA,GA5BpBJ,mBA4B0BC,CA5BNG,QA4BMH,CAAAA,SAAAA,IAAAA,GAAAA;EAAC,SAA6BA,OAAAA,CAAAA,EA3BrCG,QA2BqCH;AAAC,CAAA,GA1BzDC,kBA0ByD,CA1BtCE,QA0BsC,CAAA,SAAA,IAAA,GAAA;EAIjDO,SAAAA,OAAa,CAAA,EA7BFP,QA6BE;CAAA,GAAA;EAAA,SAEPH,OAAAA,EA7BIG,QA6BJH;CAAC;;;;AAAiFF,KAxBxFP,SAwBwFO,CAAAA,WAAAA,OAAAA,CAAAA,GAxB1DO,OAwB0DP,CAxBlDM,IAwBkDN,CAxB7CN,OAwB6CM,CAxB5BK,QAwB4BL,CAAAA,EAAAA,SAAAA,GAAAA,cAAAA,CAAAA,CAAAA,GAxBcI,gBAwBdJ,CAxB+BK,QAwB/BL,CAAAA,GAAAA;EAAM,YAA+CE,CAAAA,EAAAA;IAApBS,SAAAA,CAAAA,EAAAA,MAAAA;IAAuDT,CAAAA,GAAAA,EAAAA,MAAAA,CAAAA,EAAAA,OAAAA;EAAC,CAAA;AAAF,CAAA;;;;KAVtLQ,cA0B4Ef,CAAAA,CAAAA,CAAAA,GAAAA,SAAAA,SA1BtCO,CA0BsCP,GAAAA,IAAAA,GAAAA,KAAAA;;;;KAtB5EgB,mBAuBiBK,CAAAA,CAAAA,CAAAA,GAvBQd,CAuBRc,SAAAA,SAAAA,GAAAA,KAAAA,GAvBsCd,CAuBtCc;;;;AAC0BnB,KApBpCe,aAoBoCf,CAAAA,CAAAA,CAAAA;;SAAgEgB,SAlB9FX,CAkB8FW,GAAAA,IAAAA,GAlBnFH,cAkBmFG,CAlBpEX,CAkBoEW,CAAAA,SAAAA,IAAAA,GAAAA,IAAAA,GAlB3CF,mBAkB2CE,CAlBvBX,CAkBuBW,CAAAA,SAlBZb,MAkBYa,CAAAA,MAAAA,EAAAA,GAAAA,CAAAA,GAAAA,CAAAA,CAAAA,SAlBqBF,mBAkBrBE,CAlByCX,CAkBzCW,CAAAA,GAAAA,IAAAA,GAAAA,KAAAA,GAlB6DH,cAkB7DG,CAlB4EX,CAkB5EW,CAAAA;;;;KAd3GA,wBAAAA,GAeSN,cAAAA,GAAAA,YAAAA,GAAAA,OAAAA,GAAAA,OAAAA,GAAAA,QAAAA,GAAAA,gBAAAA,GAAAA,gBAAAA,GAAAA,SAAAA;;;;KAXTO,8BAAAA,GAY4BG,UAAAA,GAAAA,YAAAA;;;;AAAgF,KARrGF,mBAQqG,CAAA,sBAR3Df,MAQ2D,CAAA,MAAA,EAAA,GAAA,CAAA,CAAA;AACjH;;;AALAgB,aASAA,SATsBxB,iBAStBwB,CAAAA,GAAAA,CAAAA,GAT+CnB,kBAS/CmB,GAToET,OASpES,CAT4EC,IAS5ED,CATiFrB,aASjFqB,CAAAA,GAAAA,EAAAA,GAAAA,EAAAA,GAAAA,CAAAA,EAT+GH,wBAS/GG,CAAAA,CAAAA,GAAAA;EAAa,OAASxB,CAAAA,EARRe,OAQQf,CARAwB,aAQAxB,CAAAA;CAAiB,GAPnCoB,aAOwDjB,CAP1CqB,aAO0CrB,CAAAA,SAAAA,IAAAA,GAPZE,kBAOYF,GAPSY,OAOTZ,CAPiBsB,IAOjBtB,CAPsBA,aAOtBA,CAAAA,GAAAA,EAAAA,GAAAA,EAAAA,GAAAA,CAAAA,EAPoDkB,wBAOpDlB,CAAAA,CAAAA,GAAAA;EAAa,OAAiBkB,CAAAA,EAN5EN,OAM4EM,CANpEG,aAMoEH,CAAAA;CAAwB,GAL9GhB,kBAKmDoB,GAL9BV,OAK8BU,CALtBA,IAKsBA,CALjBtB,aAKiBsB,CAAAA,GAAAA,EAAAA,GAAAA,EAAAA,GAAAA,CAAAA,EALaJ,wBAKbI,CAAAA,CAAAA,GAL0Cb,gBAK1Ca,CAL2DD,aAK3DC,CAAAA;AAARV,KAJnCW,mBAImCX,CAAAA,sBAJOP,MAIPO,CAAAA,MAAAA,EAAAA,GAAAA,CAAAA,CAAAA;;;;AAA/CS,aAEIJ,SAFkBpB,iBAElBoB,CAAAA,GAAAA,CAAAA,GAF2CL,OAE3CK,CAFmDK,IAEnDL,CAFwDjB,aAExDiB,CAAAA,GAAAA,EAAAA,GAAAA,EAAAA,GAAAA,CAAAA,EAFsFC,wBAEtFD,CAAAA,CAAAA,GAAAA;EAAa,OAA4CjB,CAAAA,EAD/CY,OAC+CZ,CADvCqB,aACuCrB,CAAAA;CAAa,GAAtEiB,aAAuFC,CAAzEG,aAAyEH,CAAAA,SAAAA,IAAAA,GAA3CN,OAA2CM,CAAnCI,IAAmCJ,CAA9BlB,aAA8BkB,CAAAA,GAAAA,EAAAA,GAAAA,EAAAA,GAAAA,CAAAA,EAAAA,wBAAAA,GAA2BC,8BAA3BD,CAAAA,CAAAA,GAAAA;EAAwB,OAAGC,CAAAA,EACxGP,OADwGO,CAChGE,aADgGF,CAAAA;CAA8B,GAEhJP,OAFoDU,CAE5CA,IAF4CA,CAEvCtB,aAFuCsB,CAAAA,GAAAA,EAAAA,GAAAA,EAAAA,GAAAA,CAAAA,EAETJ,wBAFSI,GAEkBH,8BAFlBG,CAAAA,CAAAA,GAEqDb,gBAFrDa,CAEsED,aAFtEC,CAAAA"}